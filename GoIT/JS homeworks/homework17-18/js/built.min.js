function GoogleCallback(a,b){for(var c={},d=$("#google_result_instance").html(),e=0;e<b.results.length;e++)c.url=b.results[e].unescapedUrl,c.title=b.results[e].title,c.content=b.results[e].content,$(".search_wrapper form").after(tmpl(d,c))}var humanFormFields={form_id:"human_form",class_name:"Human",fields:[{field_id:"weight",field_name:"Weight"},{field_id:"height",field_name:"Height"},{field_id:"sex",field_name:"Sex"},{field_id:"last_name",field_name:"Last Name"},{field_id:"first_name",field_name:"First Name"}]},workerFormFields={form_id:"worker_form",class_name:"Worker",fields:[{field_id:"company_name",field_name:"Company name"},{field_id:"salary",field_name:"Salary"}]},studentFormFields={form_id:"student_form",class_name:"Student",fields:[{field_id:"university_name",field_name:"University name"},{field_id:"stipend",field_name:"Stipend"}]};$(function(){function a(a){var b=$("#total_sheet");b.show(),$("#student_form").hide(),$("#worker_form").hide(),$.each(a,function(a,c){if("method"!=a){var d=$("<tr></tr>").appendTo(b);$("<td>"+a+"</td>").appendTo(d),$("<td>"+c+"</td>").appendTo(d)}else $('<button class="btn btn-warning">Call method</button>').appendTo(b).on("click",c)})}function b(a){var b=a,c=tmpl($("#form_header").html(),b);return $(".proto_wrapper").append(c),$.each(b.fields,function(a){var c=tmpl($("#form_field").html(),b.fields[a]);$("#"+b.form_id+" div:first").after(c)}),!1}$("#search").on("click",function(){$(".search_wrapper").show(),$(".proto_wrapper").hide()}),$("#prototyping").on("click",function(){$(".proto_wrapper").show(),$(".search_wrapper").hide(),b(humanFormFields),$("#human_form").removeClass("subtype")}),$("#request").on("submit",function(a){var b=$("#request input").val();return a.preventDefault(),$(".search_wrapper dl").remove(),b&&$.ajax({url:"http://ajax.googleapis.com/ajax/services/search/web?v=1.0&key=ABQIAAAACKQaiZJrS0bhr9YARgDqUxQBCBLUIYB7IF2WaNrkYqF0tBovNBQFDtM_KNtb3xQxWff2mI5hipc3lg&rsz=large&q="+b+"&callback=GoogleCallback&context=?",dataType:"jsonp"}),!1});var c={},d=Object.create(c),e=Object.create(c);$(".proto_wrapper").on("submit","#human_form",function(a){a.preventDefault();var b=$(this).serializeArray();$.each(b,function(a,b){c[b.name]=b.value}),$(this).hide(),$(".btn_group_proto").show()}),$("#worker_class").on("click",function(){$(".btn_group_proto").hide(),b(workerFormFields)}),$("#student_class").on("click",function(){$(".btn_group_proto").hide(),b(studentFormFields)}),$(".proto_wrapper").on("submit",".subtype",function(b){var c={},f=$(this).serializeArray();return"worker_form"===$(this).attr("id")?(c=d,c.method=function(){alert("Go to work")}):"student_form"===$(this).prop("id")&&(c=e,c.method=function(){alert("Lets code!")}),b.preventDefault(),$.each(f,function(a,b){c[b.name]=b.value}),a(c),!1})}),function(){var a={};this.tmpl=function b(c,d){var e=/\W/.test(c)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+c.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[c]=a[c]||b(document.getElementById(c).innerHTML);return d?e(d):e}}();